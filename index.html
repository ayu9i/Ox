<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AYU ARENA - AI CHALLENGER</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;700&family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <style>
        :root { --p: #6366f1; --g: #fbbf24; --bg: #020617; --glass: rgba(15, 23, 42, 0.95); --green: #10b981; --red: #ef4444; }
        * { box-sizing: border-box; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        body, html { margin: 0; padding: 0; min-height: 100vh; font-family: 'Kanit', sans-serif; background: var(--bg); color: white; overflow: hidden; }

        /* --- STABILITY & PING --- */
        .net-status { position: fixed; top: 15px; right: 15px; z-index: 2000; display: flex; align-items: center; gap: 8px; background: rgba(0,0,0,0.6); padding: 5px 12px; border-radius: 10px; font-size: 0.7rem; font-family: 'Orbitron'; border: 1px solid rgba(255,255,255,0.1); }
        .dot { width: 7px; height: 7px; border-radius: 50%; background: var(--green); }
        .dot.offline { background: var(--red); box-shadow: 0 0 8px var(--red); }

        /* --- CONAN GATE --- */
        #gate { position: fixed; inset: 0; z-index: 10000; display: none; perspective: 1500px; }
        .door { position: absolute; width: 50%; height: 100%; background: #0f172a; border: 1px solid #1e293b; display: flex; align-items: center; justify-content: center; transition: 1.5s ease-in-out; }
        .door-l { left: 0; transform-origin: left; border-right: 2px solid var(--g); }
        .door-r { right: 0; transform-origin: right; border-left: 2px solid var(--g); }
        .gate-open .door-l { transform: rotateY(-100deg); }
        .gate-open .door-r { transform: rotateY(100deg); }

        /* --- UI BOX --- */
        .c { width: 90%; max-width: 480px; padding: 30px; background: var(--glass); backdrop-filter: blur(20px); border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); text-align: center; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); box-shadow: 0 20px 60px rgba(0,0,0,0.6); }
        .hidden { display: none !important; }
        .btn { width: 100%; padding: 12px; background: var(--p); border: none; border-radius: 12px; color: white; font-weight: 700; cursor: pointer; margin-top: 8px; font-family: 'Kanit'; }
        .btn:hover { filter: brightness(1.2); transform: scale(1.02); }
        .btn-gold { background: var(--g); color: #000; }

        /* --- TOP BAR --- */
        .top-bar { position: fixed; top: 15px; display: flex; gap: 10px; z-index: 500; width: 100%; justify-content: center; }
        .pill { background: rgba(0,0,0,0.7); padding: 6px 15px; border-radius: 50px; border: 1px solid var(--g); font-size: 0.8rem; }

        /* --- PET WORLD --- */
        .world { height: 160px; background: #020617; border-radius: 20px; position: relative; overflow: hidden; border: 1px solid #1e293b; margin: 15px 0; }
        #pet { position: absolute; bottom: 20px; left: 50%; font-size: 60px; transition: 1.5s; transform: translateX(-50%); }
        #partner { position: absolute; bottom: 20px; right: -100px; font-size: 50px; transition: 2s; opacity: 0; }
        .bubble { position: absolute; top: -40px; left: 50%; transform: translateX(-50%); background: white; color: black; padding: 4px 10px; border-radius: 10px; font-size: 12px; font-weight: bold; }

        /* --- BARS --- */
        .bar-o { width: 100%; height: 8px; background: #1e293b; border-radius: 10px; margin-bottom: 12px; overflow: hidden; }
        .bar-i { height: 100%; background: var(--g); width: 100%; }
        .log { height: 100px; background: rgba(0,0,0,0.3); border-radius: 15px; padding: 10px; overflow-y: auto; text-align: left; font-size: 0.8rem; margin: 10px 0; border: 1px solid rgba(255,255,255,0.05); }
        
        /* --- AI INDICATOR --- */
        .ai-think { color: var(--g); font-style: italic; font-size: 0.7rem; margin-bottom: 5px; }
    </style>
</head>
<body>

    <div class="net-status"><div id="net-dot" class="dot"></div><span id="ping">PING: 24ms</span></div>

    <div id="gate"><div class="door door-l"></div><div class="door door-r"></div></div>

    <div id="ui-top" class="top-bar hidden">
        <div class="pill">üë§ <span id="u-n"></span></div>
        <div class="pill">üí∞ <span id="u-c">0</span></div>
        <div class="pill">‚ù§Ô∏è <span id="u-love">0</span></div>
    </div>

    <div id="scr-reg" class="c">
        <h2 style="font-family:'Orbitron'; color:var(--p); margin:0">AYU ARENA</h2>
        <input type="text" id="in-n" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô..." style="width:100%; padding:12px; margin:20px 0; border-radius:10px; border:1px solid #334155; background:#000; color:white; text-align:center;">
        <div style="margin-bottom:15px;">
            <div id="p1" class="btn" style="width:auto; display:inline-block; padding:8px 15px;" onclick="selP('üê∂','p1')">üê∂</div>
            <div id="p2" class="btn" style="width:auto; display:inline-block; padding:8px 15px;" onclick="selP('üê±','p2')">üê±</div>
            <div id="p3" class="btn" style="width:auto; display:inline-block; padding:8px 15px;" onclick="selP('üêº','p3')">üêº</div>
        </div>
        <button class="btn btn-gold" onclick="launch()">START SYSTEM</button>
    </div>

    <div id="scr-hub" class="c hidden">
        <h2 style="font-family:'Orbitron'; color:var(--g)">COMMAND HUB</h2>
        <button class="btn" onclick="nav('pet')">üêæ TAMAGOTCHI LIFE</button>
        <button class="btn" onclick="nav('word')">ü§ñ WORD BATTLE (VS AI)</button>
        <button class="btn" style="background:#1e293b; color:var(--red); margin-top:20px;" onclick="wipe()">RESET</button>
    </div>

    <div id="scr-pet" class="c hidden">
        <div class="world"><div id="pet">üê∂<div id="p-say" class="bubble hidden"></div></div><div id="partner">üê∂</div></div>
        <div style="display:flex; justify-content:space-between; font-size:0.75rem"><span>HUNGER</span><span id="t-h">100%</span></div>
        <div class="bar-o"><div id="b-h" class="bar-i"></div></div>
        <div style="display:flex; justify-content:space-between; font-size:0.75rem"><span>HAPPY</span><span id="t-s">100%</span></div>
        <div class="bar-o"><div id="b-s" class="bar-i" style="background:var(--green)"></div></div>
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px;">
            <button class="btn btn-gold" onclick="pAct('feed')">üçñ FEED</button>
            <button class="btn btn-gold" onclick="pAct('walk')">üèÉ WALK</button>
            <button class="btn btn-gold" style="grid-column:span 2" onclick="pAct('date')">üíñ FIND PARTNER</button>
            <button class="btn" style="grid-column:span 2" onclick="nav('hub')">BACK</button>
        </div>
    </div>

    <div id="scr-word" class="c hidden">
        <div style="display:flex; gap:10px; margin-bottom:10px"><button class="btn" onclick="setL('TH')">‡πÑ‡∏ó‡∏¢</button><button class="btn" onclick="setL('EN')">EN</button></div>
        <div style="background:rgba(0,0,0,0.5); padding:15px; border-radius:15px; border: 1px solid var(--g);">
            <div id="cur-w" style="font-size:2rem; color:var(--g); font-weight:900">SKY</div>
            <p style="margin:0">‡∏ï‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢: <b id="next-l" style="color:var(--red)">Y</b></p>
        </div>
        <div id="ai-status" class="ai-think hidden">AI ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏¥‡∏î...</div>
        <div id="w-log" class="log">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏•‡∏≠‡∏á‡∏Å‡∏±‡∏ö AI...</div>
        <input type="text" id="w-in" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö..." style="width:100%; padding:12px; margin:10px 0; border-radius:10px; text-align:center;">
        <button class="btn btn-gold" onclick="wCheck()">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</button>
        <button class="btn" onclick="nav('hub')">‡∏´‡∏ô‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ</button>
    </div>

    <script>
        let s = { n:'', a:'üê∂', c:0, l:0, h:100, s:80, w:'SKY', lang:'EN', reg:false };
        let walkInt;

        // AI Dictionary (‡∏â‡∏ö‡∏±‡∏ö‡∏¢‡πà‡∏≠ - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ô‡∏±‡πâ‡∏ô‡πÜ)
        const aiDict = {
            EN: ["APPLE", "ANT", "BIRD", "BANANA", "CAT", "DOG", "EGG", "FISH", "GOAT", "HELLO", "ICE", "JET", "KING", "LION", "MOON", "NIGHT", "ORANGE", "PANDA", "QUEEN", "RABBIT", "SKY", "TIGER", "UMBRELLA", "VAN", "WHALE", "XYLOPHONE", "YO-YO", "ZEBRA", "YELLOW", "YESTERDAY", "YOU", "YEAR"],
            TH: ["‡∏ô‡∏Å", "‡πÑ‡∏Å‡πà", "‡πÅ‡∏°‡∏ß", "‡∏°‡∏î", "‡∏õ‡∏•‡∏≤", "‡πÄ‡∏™‡∏∑‡∏≠", "‡πÄ‡∏£‡∏∑‡∏≠", "‡∏™‡πâ‡∏°", "‡∏°‡πâ‡∏≤", "‡∏•‡∏°", "‡∏Å‡∏∏‡πâ‡∏á", "‡πÅ‡∏Å‡πâ‡∏ß", "‡∏Ñ‡∏ô", "‡∏ó‡∏≠‡∏á", "‡∏ô‡πâ‡∏≥", "‡∏ö‡πâ‡∏≤‡∏ô", "‡∏ù‡∏ô", "‡∏¢‡∏±‡∏Å‡∏©‡πå", "‡∏£‡∏±‡∏Å", "‡∏´‡∏°‡∏µ", "‡∏≠‡∏á‡∏∏‡πà‡∏ô", "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", "‡∏ô‡∏±‡∏î", "‡∏î‡∏µ", "‡∏´‡∏¥‡∏ß"]
        };

        // --- STABILITY SYSTEM ---
        setInterval(() => {
            const dot = document.getElementById('net-dot');
            dot.className = navigator.onLine ? "dot" : "dot offline";
            document.getElementById('ping').innerText = "PING: " + (Math.floor(Math.random()*20)+15) + "ms";
        }, 3000);

        // --- DATA ENGINE ---
        window.onload = () => {
            const saved = localStorage.getItem('AYU_AI_SAVE');
            if(saved) { s = JSON.parse(saved); if(s.reg) { document.getElementById('scr-reg').classList.add('hidden'); init(); nav('hub'); } }
        };
        function save() { localStorage.setItem('AYU_AI_SAVE', JSON.stringify(s)); }

        function selP(i, id) { s.a = i; document.querySelectorAll('#scr-reg .btn').forEach(b=>b.style.borderColor="transparent"); document.getElementById(id).style.borderColor="var(--g)"; }

        function launch() {
            const name = document.getElementById('in-n').value;
            if(!name) return alert("‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö!");
            s.n = name; s.reg = true;
            document.getElementById('scr-reg').classList.add('hidden');
            const g = document.getElementById('gate'); g.style.display='block';
            setTimeout(() => { g.classList.add('gate-open'); setTimeout(() => { g.style.display='none'; init(); nav('hub'); }, 1500); }, 100);
            save();
        }

        function init() { document.getElementById('ui-top').classList.remove('hidden'); document.getElementById('u-n').innerText = s.n; document.getElementById('pet').childNodes[0].textContent = s.a; document.getElementById('partner').innerText = s.a; updateUI(); }

        function nav(scr) {
            document.querySelectorAll('.c').forEach(el => el.classList.add('hidden'));
            document.getElementById('scr-' + scr).classList.remove('hidden');
            if(scr === 'pet') startWalk(); else stopWalk();
        }

        // --- TAMAGOTCHI ---
        function startWalk() { walkInt = setInterval(() => { document.getElementById('pet').style.left = (Math.random()*70+15)+"%"; s.h=Math.max(0,s.h-1); updateUI(); save(); }, 3000); }
        function stopWalk() { clearInterval(walkInt); }
        function pAct(t) {
            if(t==='feed') { s.h=Math.min(100, s.h+25); s.c+=5; talk("‡∏≠‡∏£‡πà‡∏≠‡∏¢!"); }
            if(t==='walk') { s.s=Math.min(100, s.s+20); s.h-=10; s.c+=10; talk("‡πÄ‡∏¢‡πâ!"); }
            if(t==='date') { 
                const p = document.getElementById('partner'); p.style.right="50px"; p.style.opacity="1";
                talk("‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏Ñ‡∏π‡πà! ‚ù§Ô∏è"); setTimeout(() => { p.style.right="-100px"; p.style.opacity="0"; s.l++; s.c+=100; updateUI(); save(); }, 3000);
            }
            updateUI(); save();
        }
        function talk(t) { const b=document.getElementById('p-say'); b.innerText=t; b.classList.remove('hidden'); setTimeout(()=>b.classList.add('hidden'), 2000); }

        // --- AI WORD BATTLE ---
        function setL(l) { s.lang=l; s.w=(l==='TH'?'‡πÅ‡∏°‡∏ß':'SKY'); updateUI(); save(); }

        function wCheck() {
            const val = document.getElementById('w-in').value.trim().toUpperCase();
            const last = s.w.slice(-1).toUpperCase();
            if(val.length > 1 && val.startsWith(last)) {
                addLog(`üë§ ‡∏Ñ‡∏∏‡∏ì: ${val}`, "var(--green)");
                s.w = val; s.c += 20;
                document.getElementById('w-in').value = "";
                updateUI();
                
                // AI Turn
                document.getElementById('ai-status').classList.remove('hidden');
                setTimeout(() => {
                    const nextChar = s.w.slice(-1).toUpperCase();
                    const aiChoice = aiDict[s.lang].filter(w => w.toUpperCase().startsWith(nextChar));
                    if(aiChoice.length > 0) {
                        const res = aiChoice[Math.floor(Math.random()*aiChoice.length)];
                        s.w = res;
                        addLog(`ü§ñ AI: ${res}`, "var(--g)");
                        document.getElementById('ai-status').classList.add('hidden');
                        updateUI();
                        save();
                    } else {
                        addLog(`ü§ñ AI: ‡∏Ç‡∏≠‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ! ‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ`, "var(--red)");
                        document.getElementById('ai-status').classList.add('hidden');
                        s.c += 100; updateUI();
                    }
                }, 1500);
            } else { alert("‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß " + last); }
        }

        function addLog(t, color) {
            const log = document.getElementById('w-log');
            if(log.innerText.includes("‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£")) log.innerHTML = "";
            log.innerHTML = `<div style="color:${color}; margin-bottom:5px;">${t}</div>` + log.innerHTML;
        }

        function updateUI() {
            document.getElementById('u-c').innerText = s.c.toLocaleString();
            document.getElementById('u-love').innerText = s.l;
            document.getElementById('b-h').style.width = s.h + "%";
            document.getElementById('b-s').style.width = s.s + "%";
            document.getElementById('t-h').innerText = s.h + "%";
            document.getElementById('t-s').innerText = s.s + "%";
            document.getElementById('cur-w').innerText = s.w.toUpperCase();
            document.getElementById('next-l').innerText = s.w.slice(-1).toUpperCase();
        }

        function wipe() { if(confirm("RESET?")) { localStorage.clear(); location.reload(); } }
    </script>
</body>
</html>
